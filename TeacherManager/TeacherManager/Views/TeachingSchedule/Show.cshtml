@*@model  TeacherManager.Models.Class.Schedule*@
@{
    ViewBag.Title = "Show";
    Layout = "~/Views/Shared/_Layout.cshtml";

    string a = "bé";
}

<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
<div class="row justify-content-center my-4">
    <div class="col-xl-10 col-md-12">
        <div class="card border-0">
            <div class="card-body p-0">
                <div class="row no-gutters">
                    <div class="col-lg-5 col-md-12 my-5">
                        <div class=" my-auto">
                            <img src="~/Content/images/account/Events-bro.png" width="400px" height="400px" />
                        </div>

                    </div>
                    <div class="col-lg-7 col-md-12 input-infor my-5 shadow">
                        <div class="p-5">
                            <div class="mb-5">
                                <h3 class="h4 font-weight-bold text-theme">Kết quả đăng ký</h3>
                            </div>
                            <h3>Lịch học bù</h3>

                            <div>@ViewBag.Schedule.Day</div>
                            <div>@ViewBag.ClassName.NAME</div>
                            <div>@ViewBag.SubjectName.NAME</div>
                            <div>@ViewBag.timeStart</div>
                            <div>@ViewBag.timeEnd</div>

                            <button data-classname="@ViewBag.ClassName.NAME" data-day="@ViewBag.Schedule.Day" data-subjectname="@ViewBag.SubjectName.NAME" data-timestart="@ViewBag.timeStart" data-timeend="@ViewBag.timeEnd" class="btn btn-register" id="btn-xacnhan">Xác nhận</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
@section scripts{
    <script>

        $(function () {
            $("#btn-xacnhan").click(function () {

                var ClassName = $(this).data("classname");
                var SubjectName = $(this).data("subjectname");
                var Day = $(this).data("day")
                var TimeStart = $(this).data("timestart");
                var TimeEnd = $(this).data("timeend");

                //var data = { "ClassName": className, "SubjectName": SubjectName, "Day": Day, "TimeStart": TimeStart, "TimeEnd": TimeEnd };

                // Alert hiển thị giá trị của các thuộc tính trong data
                alert("Data - className: " + ClassName +
                    ", SubjectName: " + SubjectName +
                    ", Day: " + Day +
                    ", TimeStart: " + TimeStart +
                    ", TimeEnd: " + TimeEnd);
                //var ClassName = $(this).data("ClassName");
                //var SubjectName = $(this).data("SubjectName");
                //var Day = $(this).data("Day")
                //var TimeStart = $(this).data("TimeStart");
                //var TimeEnd = $(this).data("TimeEnd");
                //alert(ClassName);
                //alert(SubjectName);
                //alert(Day);
                //alert(TimeStart);
                //alert(TimeEnd);
                $.ajax({
                    type: "POST",
                    url: "/TeachingSchedule/AddMakeupLesson",
                    data: { "classname": ClassName, "subjectname": SubjectName, "day": Day, "timestart": TimeStart, "timeend": TimeEnd },
                    success: function (result) {
                        alert("Thêm thành công!");
                    },
                    error: function () {
                        alert("Thất bại");
                    }
                });
            });
        });
    </script>
}

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>